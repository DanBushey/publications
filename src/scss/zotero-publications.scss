//
// Zotero publications
// --------------------------------------------------

$font-size-h2: 2em;
$font-size-h3: 1.5em;
$font-size-item-title: 1em * 8 / 7;

$headings-line-height: 1.3;

$screen-sm-min: 768px;

$details-indent: 3em;

/* Inherits:
   * font-family
   * color
   * body font-size
   * body line-height
   * link styles
*/

.zotero {
	&-publications {
		margin: 5em 0 6.2em; // todo margin bottom

		* {
			box-sizing: border-box;
		}

		h2, h3 {
  		font-weight: bold;
  		line-height: $headings-line-height;
			letter-spacing: -0.025em;
		}

    p {
      margin: 1em 0;
    }

		a {
			cursor: pointer;
		}

		ul {
  		list-style-type: none;
  		padding: 0;
  		margin: 0;
		}
	}

  // Reference

  &-reference {
    font-size: $font-size-h3;
    line-height: $headings-line-height;
    margin-bottom: 2.28em;
    opacity: 0.7;
  }

  // h2
	&-group-title {
  	font-size: $font-size-h2;
		margin: 1.6em 0 (1em * 6 / 7 );
	}

  // Item
	&-item {
		margin-bottom: 1em;
	}

	&-item-title {
		font-size: $font-size-item-title;
		line-height: 1.5;
	}

  // Details
	&-details {
		transition: height .4s ease-out;
		overflow: hidden;

		@media (min-width: $screen-sm-min) {
			padding-left: $details-indent;
		}

		&-collapsed {
			height: 0 !important;
		}

    &-inner {
      margin: 3.4em 0 2.4em;

      .zotero-item:last-child & {
        margin-bottom: -1em;
      }
    }

    h3 {
      font-size: $font-size-h3;
      margin: 1.4em 0 (1em * 2 / 3); // todo
    }

    ul {
      margin-bottom: 1em;
    }
	}

  // Branding
  &-branding {
    margin-top: 3.8em;
  }

  &-logo {
    display: inline-block;
    vertical-align: top;

    path {
      fill: #ccc;
      transition: fill 0.2s ease;
    }

    &:hover {
      path {
        fill: #222;
      }

      .zotero-z {
        fill: #900;
      }
    }
  }

  // Loader
	&-loading {
		display: block;
		position: relative;

		&:after {
			bottom: 0;
			content: 'Loading â€¦';
			display: block;
			height: 100%;
			left: 0;
			position: absolute;
			right: 0;
			text-align: center;
			top: 0;
			width: 100%;
			background: #fff;
		}
	}
}
