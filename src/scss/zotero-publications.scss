//
// Zotero publications
// --------------------------------------------------

$font-size-h2: 2em;
$font-size-h3: 1em * 8 / 7;
$font-size-h4: 1.5em;

$headings-line-height: 1.3;

$screen-sm-min: 768px;

$details-indent-xs: 15px;
$details-indent-sm: 3em;

$gray: #ccc;

$border-radius-base: 4px;


/* Inherits:
		* font-family
		* color
		* body font-size
		* body line-height
		* link styles
*/

.zotero {
	&-publications {
		margin: 5em 0 6.2em;

		* {
			box-sizing: border-box;
		}

		h2, h4 {
			font-weight: bold;
			line-height: $headings-line-height;
			letter-spacing: -0.025em;
		}

		p {
			margin: 1em 0;
		}

		a {
			cursor: pointer;
		}

		ul {
			list-style-type: none;
			padding: 0;
			margin: 0;

			&.zotero-list-inline li {
				display: inline;
				margin-right: 1em * 8 / 7;
			}
		}

		[data-trigger] {
			user-select: none;
		}
	}

	// h2
	&-group-title {
		font-size: $font-size-h2;
		margin: 1.6em 0 (1em * 6 / 7 );
	}

	// Item
	&-item {
		margin-bottom: 1em;

		&:last-child {
			margin-bottom: 0;
		}
	}

	// h3
	&-item-title {
		font: {
			size: $font-size-h3;
			weight: normal;
		}
		line-height: 1.5;
		margin: 0;
	}

	// Icons
	&-icon-paperclip {
		width: (15em / 14);
		height: 1em;
		display: inline-block;
		vertical-align: (-1em / 14);
		margin-right: (2em / 7);
		background:
			url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHg9JzBweCcgeT0nMHB4JyB2aWV3Qm94PScwIDAgMTUgMTQnIGVuYWJsZS1iYWNrZ3JvdW5kPSduZXcgMCAwIDE1IDE0JyB4bWw6c3BhY2U9J3ByZXNlcnZlJz48Zz48cGF0aCBmaWxsPScjNzc3Nzc3JyBkPSdNNi44LDEzbDUuNC01LjRjMC43LTAuNywxLjEtMS40LDEuMS0yLjJjMC4xLTAuOC0wLjEtMS40LTAuNi0ycy0xLjEtMS0xLjgtMS4xYy0wLjIsMC0wLjQsMC0wLjUsMGMtMC4zLDAtMC41LDAtMC44LDAuMUM5LjQsMi40LDkuMiwyLjUsOSwyLjZDOC45LDIuNyw4LjYsMi44LDguNCwzQzguMiwzLjIsOCwzLjQsNy44LDMuNUM3LjcsMy42LDcuNSwzLjgsNy4zLDRDNC40LDYuOSwyLjksOC40LDIuOCw4LjZDMi41LDguOCwyLjMsOC45LDIuMiw5QzIuMSw5LjIsMiw5LjMsMS44LDkuNXMtMC4zLDAuNC0wLjQsMC41Yy0wLjEsMC4yLTAuMSwwLjMtMC4yLDAuNmMtMC4xLDAuMi0wLjEsMC40LDAsMC43YzAuMSwwLjUsMC4zLDAuOCwwLjYsMS4xYzAuMywwLjMsMC43LDAuNCwxLjIsMC40YzAuNiwwLDEuMS0wLjIsMS40LTAuNmw2LjMtNi4zYzAuMy0wLjMsMC40LTAuNiwwLjItMC45Yy0wLjEtMC4xLTAuMS0wLjItMC4yLTAuM2MtMC4xLTAuMS0wLjItMC4xLTAuNC0wLjFjLTAuMiwwLTAuNCwwLjEtMC42LDAuM0M5LjcsNC45LDkuNiw1LDkuNCw1LjJsLTQsMy45QzUuMyw5LjMsNS4yLDkuMyw1LDkuM2MtMC4yLDAtMC4zLDAtMC40LTAuMkM0LjUsOS4xLDQuNCw4LjksNC40LDguOGMwLTAuMiwwLjEtMC4zLDAuMi0wLjRjMi41LTIuNiwzLjktNCw0LjItNC4zYzAuMy0wLjMsMC41LTAuNSwwLjgtMC42YzAuMy0wLjEsMC42LTAuMiwwLjktMC4yYzAuMSwwLDAuMiwwLDAuMywwYzAuMywwLjEsMC42LDAuMiwwLjksMC40YzAuMiwwLjIsMC40LDAuNSwwLjUsMC44YzAuMSwwLjQsMC4xLDAuNywwLDEuMWMtMC4xLDAuNC0wLjMsMC43LTAuNSwxYy0wLjEsMC4xLTAuMiwwLjItMC40LDAuNGMtMC4yLDAuMi0wLjUsMC41LTAuOSwwLjlDOS45LDguNCw5LjUsOC45LDksOS4zcy0wLjksMC45LTEuNCwxLjRjLTAuNSwwLjUtMSwxLTEuNCwxLjRzLTAuOCwwLjctMS4xLDFjLTAuMywwLjMtMC42LDAuNS0wLjcsMC41QzQsMTMuOSwzLjUsMTQsMywxNGMtMC41LDAtMS0wLjEtMS41LTAuNGMtMC41LTAuMi0wLjgtMC42LTEuMS0xYy0wLjQtMC42LTAuNS0xLjMtMC40LTJDMC4xLDkuOCwwLjQsOS4yLDEsOC43bDUuOS01LjljMC41LTAuNiwxLTAuOSwxLjMtMS4xQzguOSwxLjIsOS42LDEsMTAuNSwxYzAuNiwwLDEuMiwwLjEsMS44LDAuNGMwLjYsMC4zLDEuMSwwLjcsMS41LDEuMmMwLjQsMC41LDAuNywxLjEsMC44LDEuOGMwLjEsMC43LDAuMSwxLjQtMC4xLDIuMWMtMC4yLDAuNy0wLjYsMS4zLTEuMSwxLjhsLTUuNiw1LjVDNy42LDEzLjksNy40LDE0LDcuMywxNGMtMC4yLDAtMC4zLDAtMC40LTAuMmMtMC4xLTAuMS0wLjItMC4yLTAuMi0wLjRDNi42LDEzLjMsNi43LDEzLjIsNi44LDEzeicvPjwvZz48L3N2Zz4=")
			0 0 no-repeat;
	}

	// Collapse
	&-collapsed {
		height: 0;
	}

	&-collapsing {
		transition: height .4s ease-out;
		will-change: height;
	}

	&-collapsable {
		overflow: hidden;
	}

	// Forms
	&-form-control {
		background: {
			image: none;
	    color: inherit;
	  }
		font-size: inherit;
		line-height: inherit;
		color: inherit;
		height: 2.4em;
		display: block;
		width: 100%;
		border: 1px solid $gray;
		border-radius: $border-radius-base;

		&:focus {
			outline: 0;
		}
	}

	// Details
	&-details {
		padding-left: $details-indent-xs;

		@media (min-width: $screen-sm-min) {
			padding-left: $details-indent-sm;
		}

		&-inner {
			margin: 2em 0 2.4em;

			.zotero-item:last-child & {
				margin-bottom: 0;
			}
		}

		h4 {
			font-size: $font-size-h4;
			margin: 1.4em 0 (1em * 2 / 3); // todo
		}

		ul {
			margin-bottom: 1em;
		}
	}

	// Abstract
	&-abstract {
		margin: 1em 0;

		p {
			margin: 0;
		}

		p + p {
			text-indent: 2em;
		}
	}

	// Toolbar
	&-toolbar {
		margin: 2em 0 0;

		ul {
			margin: 0;
		}
	}

	&-container-inner {
		margin-top: 1em;

		p {
			margin-bottom: 0;
		}
	}

	&-export,
	&-citation {
		&:before {
			content: "\200B"; // Stable height
			float: left;
		}
	}

	// Branding
	&-branding {
		margin-top: 3.8em;
	}

	&-logo {
		display: inline-block;
		vertical-align: top;

		path {
			fill: $gray;
			transition: fill 0.2s ease;
		}

		&:hover {
			path {
				fill: #222;
			}

			.zotero-z {
				fill: #900;
			}
		}
	}

	&-active {
		color: inherit;
	}

	// Global loader
	&-loading {
		text-align: center;
		margin: 5.5em 0;

		@at-root {
			@keyframes loading {
			  0% {
			    transform: rotate(0deg);
			  }

			  100% {
			    transform: rotate(180deg);
			  }
			}
		}

		&:after {
			display: inline-block;
			vertical-align: top;
			content: ' ';
			width: 24.6px;
			height: 30px;
			background: url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQuNiAzMCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBvbHlnb24gZmlsbD0iIzk5MDAwMCIgcG9pbnRzPSIyNC41LDAgMjAuMiwwIDAsMCAwLDUuNSAxNS43LDUuNSAwLDI0LjUgMCwzMCAyNC41LDMwIDI0LjUsMjQuNSA4LjgsMjQuNSAyNC41LDUuNSAiLz48L3N2Zz4=")
				0 0 no-repeat;
			animation: loading 1.2s cubic-bezier(.87,-.41,.19,1.44) infinite;

		}
	}

	// Inline loader
	&-loading-inline {
		&:after {
			content: 'Loading â€¦';
			opacity: 0.3;
		}
	}
}